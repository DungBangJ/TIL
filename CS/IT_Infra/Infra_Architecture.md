- [인프라 아키텍처](#인프라-아키텍처)
- [집약형과 분할형 아키텍쳐](#집약형과-분할형-아키텍쳐)
  - [집약형 아키텍처](#집약형-아키텍처)
  - [분할형 아키텍쳐](#분할형-아키텍쳐)
    - [물리 서버와 논리 서버의 차이](#물리-서버와-논리-서버의-차이)
- [수직 분할형 아키텍처](#수직-분할형-아키텍처)
  - [클라이언트-서버형 아키텍처](#클라이언트-서버형-아키텍처)
  - [3계층형 아키텍처](#3계층형-아키텍처)
- [수평 분할형 아키텍처](#수평-분할형-아키텍처)
  - [단순 수평 분할형 아키텍처](#단순-수평-분할형-아키텍처)
  - [공유형 아키텍처](#공유형-아키텍처)
- [지리 분할형 아키텍처](#지리-분할형-아키텍처)
  - [스탠바이형 아키텍처](#스탠바이형-아키텍처)
  - [재해 대책형 아키텍처](#재해-대책형-아키텍처)

---

# 인프라 아키텍처

Architecture

- 구조

---

# 집약형과 분할형 아키텍쳐

## 집약형 아키텍처

시스템 아키텍처 관점

- 하나의 컴퓨터로 모든 처리를 하는 것

장점

- 구성이 간단
- 대형 컴퓨터의 리소스 관리나 이중화에 의해 안정성이 높고 고성능

단점

- 대형 컴퓨터의 도입, 유지 비용이 비싸다.
- 확장성의 한계

## 분할형 아키텍쳐

여러 대의 컴퓨터를 조합해서 하나의 시스템을 구축하는 구조

오픈 시스템

- 표준 OS나 개발 언어를 이용한다.

분산 시스템

- 여러 대의 컴퓨터를 연결해서 이용한다.

장점

- 저비용 시스템 구축
- 서버대수를 늘릴 수 있어 확장성이 높다.

단점

- 대수가 늘어나면 구조 복잡
- 고장의 영향 범위를 최소화하기 위해 구조를 검토해야 한다.

### 물리 서버와 논리 서버의 차이

서버

- 특정 역할에 특화된 것
- 분할형 아키텍처에서 사용되는 컴퓨터
  - 물리 서버
- 웹 서버
  - 인터넷을 접속했을 때 사용자 입력 및 HTML 생성을 담당하는 소프트웨어
- DB 서버
  - 데이터를 저장해서 요청에 따라 데이터를 제공하는 서버

---

# 수직 분할형 아키텍처

## 클라이언트-서버형 아키텍처

클라이언트 측에 전용 소프트웨어를 설치해야 한다.

장점

- 소수의 서버로 다수의 클라이언트를 처리할 수 있다.

단점

- 클라이언트 측의 소프트웨어 정기 업데이트가 필요하다.
  - 이용자가 반드시 업데이트를 한다는 보장이 없다.
- 서버 확장성에 한계가 발생할 수 있다.
  - 서버에 처리가 집중되면 한계

## 3계층형 아키텍처

클라이언트-서버형을 발전시킨 것

3계층

- 프레젠테이션 계층
  - 사용자 입력을 받는다.
  - 화면을 표시
- 애플리케이션 계층
  - 사용자 요청에 따라 업무 처리
- 데이터 계층
  - 애플리케이션 계층의 요청에 따라 업무 처리

장점

- 서버 부하 집중 개선
- 클라이언트의 정기 업데이트 불필요
- 모든 처리가 AP서버나 DB서버를 이용하지 않아도 된다.
  - e.g.)
    - 이미지 파일만 필요하다면 웹 서버만으로도 처리를 완료해서 결과 반환 가능
      - 다른 서버에 부하를 주지 않는다.
단점
- 구조가 클라이언트-서버형보다 복잡하다.

---

# 수평 분할형 아키텍처

용도가 같은 서버를 늘려나가는 방식

- 서버 대수가 늘어나면 한 대가 시스템에 주는 영향력이 낮아짐
  - 안정성 향상
  - 성능 향상

>대부분의 시스템은 수평 분할형과 수직 분할형을 동시에 채택한다.

## 단순 수평 분할형 아키텍처

Sharding, Partitioning

- 수평 분할

시스템이 두 개의 독립적인 시스템으로 분할

장점

- 확장성 향상
- 분리된 시스템끼리 영향을 주지 않는다.

단점

- 데이터 일원화 불가
- 애플리케이션 업데이트를 양쪽 모두 실행해줘야 한다.
- 처리량이 불균등하면 서버별 처리량에 치우침이 생긴다.

이 구조는 거래상으로 멀리 떨어진 시스템에 자주 이용된다.

## 공유형 아키텍처

공유형에서는 단순 분할형과 달리 일부 계층에서 상호 접속이 이뤄진다.

장점

- 확장성 향상
- 서로 다른 시스템의 데이터를 참조할 수 있다.

단점

- 독립성 저하
- 공유한 계층의 확장성 저하
  - 서로 데이터를 참조해야 하기 때문에 확장에 대한 추가 비용이 늘어난다라고 생각

---

# 지리 분할형 아키텍처

업무 연속성 및 시스템 가용성을 높이기 위해 지리적으로 분할하는 아키텍처

## 스탠바이형 아키텍처

스탠바이 구성, HA(High Availability) 구성, 액티브-스탠바이 구성 등으로 불림

물리 서버를 최소 두 대를 준비하여 한 대가 고장 나면 가동 중인 소프트웨어를 다른 한 대로 옮겨서 운영하는 방식

- 이때 소프트웨어 재시작을 자동으로 한다면
  - Failover 구조
  - 페일오버 대상 서버는 다른 서버가 고장이 나지 않는다면 서버가 놀고 있는 상태가 된다.
    - 이 사태를 방지하기 위해 양쪽 서버를 교차 이용하는 경우도 많다.

## 재해 대책형 아키텍처

특정 데이터 센터(사이트)에 있는 상용 환경에 고장이 발생하면 다른 사이트에 있는 재해 대책 환경에서 업무 처리를 재개하는 것을 가리킨다.

- 서버 장비를 최소 구성 및 동시 구성으로 별도 사이트에 배치하고, 소프트웨어도 상용 환경과 동일하게 설정한다.
  - 재해가 발생하면 전혀 다른 사이트에 있는 정보를 이용하게 되는 것

애플리케이션 최신화와 데이터 최신화가 문제가 될 수 있다.

- 데이터는 실시간으로 동기 처리를 해야 한다.
