# 메모리 할당하기

`포인터 = malloc(크기);`
- 성공하면 메모리 주소를 반환, 실패하면 NULL을 반환

일반 변수의 메모리 주소를 할당한 것과 malloc 함수로 메모리를 할당한 것은 차이가 있다.
- 스택과 힙의 차이
  - 변수는 스택에 생성
    - 따로 메모리 해제를 하지 않아도 된다.
  - malloc 함수는 힙에 생성
    - 반드시 따로 메모리 해제를 해줘야 한다.

메모리 해제
- `free(포이니터);`


# 메모리에 값 저장하기

malloc 함수로 할당한 메모리에 값을 저장할 때는 `*numPtr = 10;` 처럼 포인터를 역참조한 뒤 값을 저장한다.
- 값을 출력할 때도 포인터를 역참조하여 값을 가져온다.


# 메모리에 내용을 한꺼번에 설정하기

memset 함수를 사용하면 메모리의 내용을 원하는 크기만큼 특정값으로 설정할 수 있다.(string.h)
- `memset(포인터, 설정할 값, 크기);`
- memset 함수는 주로 다음과 같이 설정할 값을 0으로 지정하여 메모리의 내용을 모두 0으로 만들 때 주로 사용한다.
- `memset(numPtr, 0, 8);`
  - numPtr이 가리키는 메모리를 8바이트만큼 0으로 설정
- memset 함수에 설정할 크기를 지정할 때 보통 숫자 대신 sizeof를 사용한다.
- memset 함수가 메모리를 초기화하는 단위
  - 1바이트

```c
long long *numPtr = malloc(sizeof(long long));

memset(numPtr, 0, sizeof(long long));   // numPtr이 가리키는 메모리를 long long 크기만큼 0으로 설정
```
- 여기서 메모리를 `sizeof(long long)`크기만큼 할당했으므로 설정할 크기도 `sizeof(long long)`과 같이 지정해야 하며 `sizeof(long long *)`과 같이 포인터의 크기를 지정하면 안된다.


# 널 포인터

```c
int *numPtr1 = NULL;    // 포인터에 NULL 저장

printf("%p\n", numPtr1);    // 00000000
```
- NULL이 들어있는 포인터를 널 포인터라고 하며 아무것도 가리키지 않는 상태를 뜻한다.
  - 역참조 불가
- 실무세엇는 NULL인지 확인한 뒤 NULL이면 메모리를 할당하는 패턴을 주로 사용한다.

```c
if (ptr == NULL)         // ptr이 널 포인터라면
{
    ptr = malloc(1024);   // 1024바이트만큼 메모리 할당
}
```